Förklaring

STHLM Commute - den snåla reseplaneraren


STHLM Commute är en snål reseplanerare för resor med <a href="{0}">Stockholms Lokaltrafik</a>.
Det är inte samma sorts reseplanerare som SL:s befintliga.
Istället för att informera om bra resvägar mellan två hållplatser så
kan du få reda på den billigaste kombinationen av biljetter för en tidsperiod.

Mata bara in vilka tider du planerar att resa, så räknar programmet ut vilka
biljetter du bör köpa.


Begränsningar

I dagsläget finns en del begränsningar i programmet.
Anledningen är jag inte vet hur alla typiska användningsområden kan se ut
och därmed inte heller vet vad som behöver ändras.

Vissa biljettyper finns inte med.
Några saknar användning om man planerar sin resa i förväg
(sms, kontant och lösa kuponger är alla sämre än förköpsremsa) och
andra skulle komplicera beräkningarna (säsongskort använder fixa datum
istället för antal dagar).

Ingen av dessa begränsningar är huggen i sten, skicka feedback om du tycker
att något saknas eller är fel.

* 24h och 72h-biljetterna räknas som 1- respektiva 3-dagarsbiljetter.
Det innebär att programmet inte tar hänsyn till att man faktiskt kan utnyttja en
sådan biljett för att göra resor under 2 respektive 4 dagar, om man bara väljer
rätt. Att lägga in stöd för detta vore komplicerat och är därför inte någon
prioritet i dagsläget.

* Priset för förköpsremsan räknas per kupong istället för per enskild remsa
i dagsläget.
Anledningen är att man oftast kan återanvända förköpsremsad eller ge bort den.
För tillfälliga besökare i Stockholm är detta inte optimalt och det finns planer
på att lägga till något sätt att välja att man inte vill spara biljetter.
I dessa fall kan det bli billigare med lösa kuponger eller sms.

* Bålsta/Gnesta
Resor till Bålsta eller Gnesta är extra komplicerade och jag valde att inte ta
med det till en början.


Referenser
* SLs reseplanerare
* SLs biljetter

Optimeringsmål

Algoritm
Iterativ dynamisk programmering med rekursionsformeln:
C(d) = min(t.cost + ) for all tickets t
